<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KMZ Enterprise Suite</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#020617">
    
    <link rel="icon" id="favicon" type="image/png" href="icon.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="cordova.js"></script>

    <style>
        body { background-color: var(--bg-main, #020617); color: #f8fafc; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; overflow: hidden; -webkit-tap-highlight-color: transparent; transition: background-color 0.5s ease; }
        .h-safe { height: 100vh; height: 100dvh; display: flex; flex-direction: column; }
        .content { flex: 1; overflow-y: auto; scroll-behavior: smooth; padding-bottom: 350px !important; } 
        .glass { background: var(--bg-glass, rgba(15, 23, 42, 0.95)); border-bottom: 1px solid rgba(255,255,255,0.08); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); transition: background 0.5s ease; }
        
        ::-webkit-scrollbar { width: 4px; } 
        ::-webkit-scrollbar-track { background: #0f172a; } 
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        .no-scrollbar::-webkit-scrollbar { display: none; } 
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .fade-in { animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1); } 
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        
        .splash-out { animation: fadeOut 0.5s forwards; }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; visibility: hidden; } }

        .toast-enter { animation: slideIn 0.3s forwards; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        .font-lcd { font-family: 'Courier New', Courier, monospace; letter-spacing: 2px; }
        .marquee-container { overflow: hidden; white-space: nowrap; }
        .marquee-text { display: inline-block; padding-left: 100%; animation: marquee 15s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        #kmz-splash { position: fixed; inset: 0; background: #020617; z-index: 99999; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .kmz-logo-text { color: #3b82f6; font-size: 3rem; font-weight: 900; letter-spacing: 4px; animation: pulse 2s infinite; }
        .kmz-sub-text { color: #94a3b8; font-size: 0.8rem; letter-spacing: 6px; margin-top: 10px; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }

        #print-area { display: none; } 
        @media print { body * { visibility: hidden; } #root { display: none; } #print-area { display: block !important; visibility: visible !important; position: absolute; left: 0; top: 0; width: 100%; padding: 20px; background: white; color: black; font-family: sans-serif; } #print-area * { visibility: visible !important; } }
    </style>
</head>
<body>
    <div id="kmz-splash">
        <h1 class="kmz-logo-text">KMZ</h1>
        <p class="kmz-sub-text">ENTERPRISE</p>
    </div>

    <div id="print-area"></div>
    <div id="root" class="h-safe w-screen"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        const themeStyles = {
            cyber: ` :root { --bg-main: #020617; --bg-glass: rgba(15, 23, 42, 0.95); } `,
            forest: ` :root { --bg-main: #0c0a09; --bg-glass: rgba(12, 10, 9, 0.95); } .bg-slate-950 { background-color: #0c0a09 !important; } .bg-slate-900 { background-color: #1c1917 !important; } .bg-slate-800 { background-color: #292524 !important; } .border-slate-700 { border-color: #44403c !important; } .border-slate-800 { border-color: #292524 !important; } .text-blue-400 { color: #34d399 !important; } .text-emerald-400 { color: #10b981 !important; } .bg-blue-600 { background-color: #059669 !important; } .text-purple-400 { color: #84cc16 !important; } `,
            sunset: ` :root { --bg-main: #18181b; --bg-glass: rgba(24, 24, 27, 0.95); } .bg-slate-950 { background-color: #09090b !important; } .bg-slate-900 { background-color: #18181b !important; } .bg-slate-800 { background-color: #27272a !important; } .border-slate-700 { border-color: #3f3f46 !important; } .border-slate-800 { border-color: #27272a !important; } .text-blue-400 { color: #f97316 !important; } .text-emerald-400 { color: #ef4444 !important; } .bg-blue-600 { background-color: #ea580c !important; } .text-purple-400 { color: #facc15 !important; } `,
            dracula: ` :root { --bg-main: #0f0019; --bg-glass: rgba(15, 0, 25, 0.95); } .bg-slate-950 { background-color: #0f0019 !important; } .bg-slate-900 { background-color: #1a0029 !important; } .bg-slate-800 { background-color: #2e0242 !important; } .border-slate-700 { border-color: #4a0461 !important; } .border-slate-800 { border-color: #2e0242 !important; } .text-blue-400 { color: #d8b4fe !important; } .text-emerald-400 { color: #f472b6 !important; } .bg-blue-600 { background-color: #9333ea !important; } .text-purple-400 { color: #e879f9 !important; } `
        };

        const Icon = ({ name, size=24, className="" }) => {
            const paths = {
                close: <path d="M18 6L6 18M6 6l12 12" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>,
                plus: <path d="M12 5v14M5 12h14" strokeWidth="2" strokeLinecap="round"/>,
                check: <path d="M20 6L9 17l-5-5" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>,
                trash: <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" strokeWidth="2" strokeLinecap="round"/>,
                lock: <path d="M12 17v-3m0-8c-2.21 0-4 1.79-4 4v2h8v-2c0-2.21-1.79-4-4-4z" strokeWidth="2"/>,
                calendar: <path d="M19 4H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zM16 2v4M8 2v4M3 10h18" strokeWidth="2"/>,
                list: <path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01" strokeWidth="2" strokeLinecap="round"/>,
                back: <path d="M19 12H5M12 19l-7-7 7-7" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>,
                home: <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" strokeWidth="2"/>,
                sun: <circle cx="12" cy="12" r="5" strokeWidth="2"/>,
                rain: <path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242M16 19v2M12 21v2M8 19v2" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>,
                cloud: <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>,
                kanban: <path d="M3 3h18v18H3zM9 3v18M15 3v18" strokeWidth="2"/>,
                news: <path d="M19 20H5a2 2 0 01-2-2V6a2 2 0 01-2-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" strokeWidth="2"/>,
                whatsapp: <path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z" strokeWidth="2"/>,
                pdf: <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" strokeWidth="2"/>,
                refresh: <path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>,
                external: <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>,
                clock: <circle cx="12" cy="12" r="10" strokeWidth="2"/>,
                calc: <rect x="4" y="2" width="16" height="20" rx="2" strokeWidth="2"/>,
                battery: <g><rect x="1" y="6" width="18" height="12" rx="2" ry="2" strokeWidth="2"/><path d="M23 13v-2" strokeWidth="2"/></g>,
                wifi: <path d="M5 12.55a11 11 0 0114.08 0M1.42 9a16 16 0 0121.16 0M8.53 16.11a6 6 0 016.95 0M12 20h.01" strokeWidth="2" strokeLinecap="round"/>,
                edit: <g><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" strokeWidth="2"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" strokeWidth="2"/></g>,
                grid: <g><rect x="3" y="3" width="7" height="7" strokeWidth="2"/><rect x="14" y="3" width="7" height="7" strokeWidth="2"/><rect x="14" y="14" width="7" height="7" strokeWidth="2"/><rect x="3" y="14" width="7" height="7" strokeWidth="2"/></g>,
                cart: <path d="M9 20a1 1 0 100 2 1 1 0 000-2zm7 0a1 1 0 100 2 1 1 0 000-2zm-7-4h7a1 1 0 001-1V9H8v6a1 1 0 001 1zm-3-8h16" strokeWidth="2" strokeLinecap="round"/>,
                checktext: <g><path d="M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M9 15l2 2 4-4"/></g>,
                flash: <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>,
                bulb: <path d="M9 21h6v-1.5a2.5 2.5 0 0 1 2.5-2.5h0a5.5 5.5 0 1 0-11 0h0a2.5 2.5 0 0 1 2.5 2.5V21z" strokeWidth="2"/>,
                bell: <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>,
                book: <g><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" /><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" /></g>,
                dumbbell: <g><path d="M6.5 6.5l11 11" /><path d="M21 21l-1-1" /><path d="M3 3l1 1" /><path d="M18 22l4-4" /><path d="M2 6l4-4" /><path d="M3 10l7-7" /><path d="M14 21l7-7" /></g>,
                apple: <path d="M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z" strokeWidth="2"/>,
                fire: <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" strokeWidth="2"/>,
                run: <path d="M19 16l-3-2 1-4-3 1-1-4-4 2v3l-2 3H3v-2h3l2-3-1-3 2-1 3-1 2 2-2 4 4 3 2-2z" strokeWidth="2"/>,
                save: <g><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></g>,
                user: <g><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></g>,
                palette: <g><path d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418" strokeWidth="2"/></g>
            };
            return <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{paths[name]}</svg>;
        };

        const ToastContainer = ({ toasts }) => (
            <div className="fixed top-20 right-4 z-50 flex flex-col gap-2 pointer-events-none">
                {toasts.map(t => (
                    <div key={t.id} className="toast-enter bg-slate-800 border-l-4 border-emerald-500 text-white px-4 py-3 rounded shadow-2xl flex items-center gap-3 min-w-[200px]">
                        <Icon name="check" size={18} className="text-emerald-400" />
                        <div><h4 className="font-bold text-sm">{t.title}</h4>{t.msg && <p className="text-xs text-slate-400">{t.msg}</p>}</div>
                    </div>
                ))}
            </div>
        );

        const useStorage = (key, initial) => {
            const [val, setVal] = useState(() => {
                try { return JSON.parse(localStorage.getItem(key)) || initial; } catch { return initial; }
            });
            useEffect(() => localStorage.setItem(key, JSON.stringify(val)), [key, val]);
            return [val, setVal];
        };

        const createWorker = () => {
            const blob = new Blob([`self.onmessage = function(e) { if (e.data === 'start') setInterval(() => self.postMessage('tick'), 10000); };`], { type: 'application/javascript' });
            return new Worker(URL.createObjectURL(blob));
        };

        const useNotifications = (events) => {
            const [perm, setPerm] = useState("default");
            const [notified, setNotified] = useState([]); 
            const workerRef = useRef(null);

            useEffect(() => {
                if ("Notification" in window) setPerm(Notification.permission);
                workerRef.current = createWorker();
                workerRef.current.postMessage('start');
                return () => workerRef.current && workerRef.current.terminate();
            }, []);

            const requestPermission = () => {
                if (!("Notification" in window)) return alert("Navegador sem suporte.");
                Notification.requestPermission().then(p => { setPerm(p); if(p === 'granted') new Notification("üîî KMZ Enterprise", { body: "Notifica√ß√µes ativadas!" }); });
            };

            const checkEvents = () => {
                if (perm !== 'granted') return;
                const now = new Date(); const k = now.toISOString().split('T')[0]; const dailyEvents = events[k] || [];
                const currentHM = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
                dailyEvents.forEach(evt => {
                    const timeMatch = evt.match(/^(\d{2}:\d{2})/);
                    if (timeMatch && timeMatch[1] === currentHM && !notified.includes(k + evt)) {
                        try { new Notification("‚è∞ Lembrete", { body: evt.replace(/^\d{2}:\d{2}\s*-\s*/, ''), requireInteraction: true }); } catch(e) {}
                        setNotified(prev => [...prev, k + evt]);
                    }
                });
            };

            useEffect(() => {
                if(!workerRef.current) return;
                const handler = (e) => { if(e.data === 'tick') checkEvents(); };
                workerRef.current.addEventListener('message', handler);
                return () => workerRef.current.removeEventListener('message', handler);
            }, [events, perm, notified]);

            return [perm, requestPermission];
        };

        const CalculatorModal = ({ close }) => {
            const [disp, setDisp] = useState("");
            const [prev, setPrev] = useState("");
            const [angleMode, setAngleMode] = useState('deg'); 
            const toggleMode = () => { if(angleMode === 'deg') setAngleMode('rad'); else if(angleMode === 'rad') setAngleMode('gra'); else setAngleMode('deg'); };
            const btns = [
                {l:'(', f:'('}, {l:')', f:')'}, {l:'C', f:'C', c:'bg-red-900/50 text-red-200'}, {l:'DEL', f:'DEL', c:'bg-orange-900/50 text-orange-200'},
                {l:'sin', f:'sin('}, {l:'cos', f:'cos('}, {l:'tan', f:'tan('}, {l:'/', f:'/', c:'bg-indigo-900/50 text-indigo-200'},
                {l:'7', f:'7'}, {l:'8', f:'8'}, {l:'9', f:'9'}, {l:'*', f:'*', c:'bg-indigo-900/50 text-indigo-200'},
                {l:'4', f:'4'}, {l:'5', f:'5'}, {l:'6', f:'6'}, {l:'-', f:'-', c:'bg-indigo-900/50 text-indigo-200'},
                {l:'1', f:'1'}, {l:'2', f:'2'}, {l:'3', f:'3'}, {l:'+', f:'+', c:'bg-indigo-900/50 text-indigo-200'},
                {l:'0', f:'0'}, {l:'.', f:'.'}, {l:'^', f:'**'}, {l:'=', f:'=', c:'bg-emerald-600 text-white row-span-2'},
                {l:'œÄ', f:'3.14159'}, {l:'log', f:'log10('}, {l:'ln', f:'log('}, {l:'‚àö', f:'sqrt('}
            ];

            const calc = (b) => {
                if(b==='C') { setDisp(""); setPrev(""); }
                else if(b==='DEL') setDisp(disp.slice(0, -1));
                else if(b==='=') { 
                    try { 
                        const toRad = (x) => { if (angleMode === 'deg') return x * (Math.PI / 180); if (angleMode === 'gra') return x * (Math.PI / 200); return x; };
                        const MathContext = { sin: (x) => Math.sin(toRad(x)), cos: (x) => Math.cos(toRad(x)), tan: (x) => Math.tan(toRad(x)), log: Math.log, log10: Math.log10, sqrt: Math.sqrt, pow: Math.pow, PI: Math.PI };
                        let expr = disp.replace(/sin/g, 'MathContext.sin').replace(/cos/g, 'MathContext.cos').replace(/tan/g, 'MathContext.tan').replace(/log10/g, 'MathContext.log10').replace(/\blog\b/g, 'MathContext.log10').replace(/ln/g, 'MathContext.log').replace(/sqrt/g, 'MathContext.sqrt').replace(/\^/g, '**').replace(/œÄ/g, 'MathContext.PI');
                        const res = eval(expr);
                        setPrev(disp + " ="); setDisp(Number(res).toLocaleString('en-US', {maximumFractionDigits:8}).replace(/,/g,'')); 
                    } catch { setDisp("Erro"); } 
                } else setDisp(disp+b);
            };

            return (
                <div className="w-full">
                    <div className="flex justify-between items-start mb-4"><h3 className="text-white font-bold flex items-center gap-2"><Icon name="calc" size={18}/> Casio FX-Dev</h3><button onClick={close} className="bg-red-500/20 text-red-400 p-2 rounded-full hover:bg-red-500 hover:text-white transition-colors"><Icon name="close" size={16}/></button></div>
                    <div className="bg-[#9ea792] p-4 rounded-t-xl border-4 border-slate-700 h-28 flex flex-col justify-between shadow-inner mb-4 relative overflow-hidden"><div className="absolute inset-0 bg-black/5 pointer-events-none"></div><div className="z-10 flex justify-between w-full"><button onClick={toggleMode} className="text-[10px] font-bold text-slate-700 bg-slate-500/20 px-1.5 py-0.5 rounded border border-slate-600/30 uppercase">{angleMode}</button><span className="text-slate-800 font-lcd text-xs h-4">{prev}</span></div><span className="text-slate-900 font-lcd text-3xl font-bold tracking-widest overflow-x-auto whitespace-nowrap w-full text-right z-10">{disp || "0"}</span></div>
                    <div className="grid grid-cols-4 gap-2 bg-slate-800 p-3 rounded-b-xl border border-t-0 border-slate-700">{btns.map((b, i) => (<button key={i} onClick={()=>calc(b.f)} className={`p-3 rounded-lg font-bold text-xs shadow-[0_3px_0_rgba(0,0,0,0.3)] active:translate-y-[3px] border border-white/5 ${b.c ? b.c : 'bg-slate-700 text-slate-200'} ${b.l==='=' ? 'row-span-2 flex items-center justify-center' : ''}`}>{b.l}</button>))}</div>
                </div>
            );
        };

        const Modal = ({ cfg, close }) => {
            const [t, setT] = useState(""); const [time, setTime] = useState(""); const [extra, setExtra] = useState(""); const [prot, setProt] = useState(""); const [carb, setCarb] = useState(""); const [fat, setFat] = useState("");
            useEffect(() => { if(cfg.open) { setT(cfg.init||""); setTime(""); setExtra(""); setProt(""); setCarb(""); setFat(""); } }, [cfg.open, cfg.init]);
            if(!cfg.open) return null;

            const handleOk = () => {
                if (!t.trim() && !cfg.customValidation) return;
                let finalVal = t;
                if (cfg.isEvent) { finalVal = `${time ? time : "00:00"} - ${t}`; }
                if (cfg.isWorkoutPlan) { finalVal = { name: t, id: Date.now(), exercises: [] }; }
                if (cfg.isExercise) { finalVal = { name: t, sets: extra, id: Date.now() }; }
                if (cfg.isDietPlan) { finalVal = { name: t, cal: Number(extra)||0, p: Number(prot)||0, c: Number(carb)||0, f: Number(fat)||0, id: Date.now() }; }
                if(cfg.ok) cfg.ok(finalVal);
                close();
            };

            return (
                <div className="fixed inset-0 z-[60] bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm fade-in">
                    <div className="bg-slate-900 border border-slate-700 w-full max-w-sm rounded-2xl p-6 shadow-2xl relative">
                        {cfg.isCalc ? <CalculatorModal close={close} /> : (
                            <>
                                <div className="flex justify-between items-center mb-6"><h3 className="text-white font-bold text-lg">{cfg.title}</h3><button onClick={close} className="text-slate-400 hover:text-white"><Icon name="close" size={20}/></button></div>
                                {!cfg.alert && (
                                    <div className="space-y-3 mb-4">
                                        {cfg.isEvent && (<div><label className="text-[10px] text-slate-400 font-bold uppercase ml-1">Hor√°rio</label><input type="time" value={time} onChange={e=>setTime(e.target.value)} className="w-full bg-slate-950 border border-slate-700 p-3 rounded-lg text-white outline-none"/></div>)}
                                        <div><label className="text-[10px] text-slate-400 font-bold uppercase ml-1">{cfg.lbl || "Nome / Descri√ß√£o"}</label><input autoFocus value={t} onChange={e=>setT(e.target.value)} placeholder={cfg.ph} className="w-full bg-slate-950 border border-slate-700 p-3 rounded-lg text-white outline-none"/></div>
                                        {cfg.isExercise && (<div><label className="text-[10px] text-slate-400 font-bold uppercase ml-1">Meta (Ex: 3x12)</label><input value={extra} onChange={e=>setExtra(e.target.value)} placeholder="Ex: 3x12" className="w-full bg-slate-950 border border-slate-700 p-3 rounded-lg text-white outline-none"/></div>)}
                                        {cfg.isDietPlan && (
                                            <>
                                                <div><label className="text-[10px] text-slate-400 font-bold uppercase ml-1">Calorias (Kcal)</label><input type="number" value={extra} onChange={e=>setExtra(e.target.value)} className="w-full bg-slate-950 border border-slate-700 p-3 rounded-lg text-white outline-none"/></div>
                                                <div className="grid grid-cols-3 gap-2"><div><label className="text-[10px] text-slate-400 font-bold">Prot</label><input type="number" value={prot} onChange={e=>setProt(e.target.value)} className="w-full bg-slate-950 border border-slate-700 p-2 rounded text-white"/></div><div><label className="text-[10px] text-slate-400 font-bold">Carb</label><input type="number" value={carb} onChange={e=>setCarb(e.target.value)} className="w-full bg-slate-950 border border-slate-700 p-2 rounded text-white"/></div><div><label className="text-[10px] text-slate-400 font-bold">Gord</label><input type="number" value={fat} onChange={e=>setFat(e.target.value)} className="w-full bg-slate-950 border border-slate-700 p-2 rounded text-white"/></div></div>
                                            </>
                                        )}
                                    </div>
                                )}
                                <div className="flex justify-end gap-3"><button onClick={close} className="text-slate-400 hover:text-white px-3 py-2 text-sm font-bold">Cancelar</button><button onClick={handleOk} className={`${cfg.del ? 'bg-red-600' : 'bg-blue-600'} text-white px-5 py-2 rounded-lg font-bold text-sm`}>Confirmar</button></div>
                            </>
                        )}
                    </div>
                </div>
            );
        };

        const QuickLinks = () => {
            const links = [{ n: 'Gemini', u: 'https://gemini.google.com', c: 'bg-gradient-to-r from-blue-600 to-purple-600' }, { n: 'GitHub', u: 'https://github.com', c: 'bg-slate-700' }, { n: 'ChatGPT', u: 'https://chat.openai.com', c: 'bg-emerald-700' }, { n: 'Stack', u: 'https://stackoverflow.com', c: 'bg-orange-600' }];
            return (<div className="grid grid-cols-4 gap-2">{links.map(l => (<a key={l.n} href={l.u} target="_blank" className={`${l.c} h-12 rounded-xl flex items-center justify-center text-[10px] font-bold text-white shadow-lg active:scale-95 transition-transform`}>{l.n}</a>))}</div>);
        };

        const Scratchpad = () => {
            const [txt, setTxt] = useStorage("scratchpad_v28", '');
            return (
                <div className="bg-slate-800 border border-slate-700 p-3 rounded-xl flex flex-col h-40 relative">
                    <div className="flex justify-between items-center mb-2"><h4 className="text-[10px] text-slate-400 font-bold uppercase flex items-center gap-1"><Icon name="edit" size={12}/> Rascunho R√°pido</h4>{txt && <button onClick={()=>setTxt("")} className="text-[10px] text-slate-500 hover:text-red-400 font-bold">LIMPAR</button>}</div>
                    <textarea className="flex-1 bg-slate-900/50 rounded border border-slate-700/50 p-2 text-xs text-slate-300 outline-none resize-none" placeholder="Digite aqui..." value={txt} onChange={e=>setTxt(e.target.value)}/>
                </div>
            );
        };

        const SystemStatus = ({ user }) => {
            const [online, setOnline] = useState(navigator.onLine);
            const [bat, setBat] = useState(null);
            useEffect(() => {
                const h = () => setOnline(navigator.onLine);
                window.addEventListener('online', h); window.addEventListener('offline', h);
                if(navigator.getBattery) navigator.getBattery().then(b => setBat(Math.round(b.level*100))); else setBat(100);
                return () => { window.removeEventListener('online', h); window.removeEventListener('offline', h); }
            }, []);
            return (
                <>
                <div className="bg-slate-900/50 border-y border-slate-800 h-6 flex items-center overflow-hidden mb-2">
                     <div className="marquee-container w-full">
                        <span className="marquee-text text-[9px] font-mono text-blue-400 uppercase">
                             üöÄ KMZ Enterprise System ‚Ä¢ Banco de Dados Local ‚Ä¢ {user ? `Logado como: ${user.displayName}` : 'Modo Visitante'} ‚Ä¢ Suporte: kmzsuportt1@gmail.com
                        </span>
                     </div>
                </div>
                <div className="flex gap-2 mb-4">
                    <div className={`flex-1 p-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold border ${online ? 'bg-emerald-900/20 border-emerald-800 text-emerald-400' : 'bg-red-900/20 border-red-800 text-red-400'}`}><Icon name="wifi" size={14}/> {online ? 'Online' : 'Offline'}</div>
                    <div className="flex-1 p-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold bg-slate-800 border border-slate-700 text-slate-400"><Icon name="battery" size={14}/> {bat !== null ? bat + '%' : '--'}</div>
                </div>
                </>
            );
        };

        const MiniWeek = ({ events, onGoToAgenda }) => {
            const [sel, setSel] = useState(new Date());
            const days = useMemo(() => { const arr = []; const today = new Date(); today.setHours(12,0,0,0); for(let i=0; i<7; i++) { const d = new Date(today); d.setDate(today.getDate() + i); arr.push(d); } return arr; }, []);
            const k = (d) => d.toISOString().split('T')[0];
            const getEvts = (d) => { const daily = events[k(d)] || []; return [...daily].sort((a,b) => a.localeCompare(b)); };
            const selEvts = getEvts(sel);
            return (
                <div className="bg-slate-800 border border-slate-700 rounded-xl p-3 mb-1">
                    <div className="flex justify-between items-center mb-2"><h4 className="text-xs font-bold text-slate-400 uppercase flex items-center gap-1"><Icon name="calendar" size={12}/> Pr√≥ximos Dias</h4><button onClick={onGoToAgenda} className="text-[10px] text-blue-400 font-bold hover:underline">VER COMPLETO</button></div>
                    <div className="flex gap-2 overflow-x-auto pb-2 no-scrollbar mb-2">
                        {days.map(d => { 
                            const isSel = d.toDateString() === sel.toDateString(); 
                            return (
                                <button key={d.toISOString()} onClick={()=>setSel(d)} className={`flex flex-col items-center justify-center min-w-[45px] h-14 rounded-lg transition-colors border ${isSel ? 'bg-blue-600 border-blue-500 text-white' : 'bg-slate-900 border-slate-700 text-slate-400'}`}>
                                    <span className="text-[9px] font-bold uppercase">{d.toLocaleDateString('pt-BR', {weekday:'short'}).replace('.','')}</span>
                                    <span className="text-sm font-bold">{d.getDate()}</span>
                                    {getEvts(d).length > 0 && <span className={`w-1 h-1 rounded-full mt-1 ${isSel?'bg-white':'bg-blue-400'}`}></span>}
                                </button>
                            )
                        })}
                    </div>
                    <div className="bg-slate-900/50 rounded-lg p-2 min-h-[40px]">
                        {selEvts.length > 0 ? (<div className="space-y-1">{selEvts.map((e, i) => { const timeMatch = e.match(/^(\d{2}:\d{2})\s-\s(.+)/); return (<div key={i} className="text-xs text-slate-200 flex items-start gap-2">{timeMatch && <span className="font-mono font-bold text-blue-400 text-[10px] mt-0.5">{timeMatch[1]}</span>}<span className="break-words flex-1">{timeMatch ? timeMatch[2] : e}</span></div>); })}</div>) : (<p className="text-[10px] text-slate-600 text-center py-1">Sem compromissos.</p>)}
                    </div>
                </div>
            );
        };

        const Dashboard = ({ openCalc, events, setTab, requestNotify, notifyPerm, user }) => {
            const [weather, setWeather] = useState(null);
            const getTodayCount = () => { const k = new Date().toISOString().split('T')[0]; return events[k] ? events[k].length : 0; };
            const todayCount = getTodayCount();
            
            useEffect(() => { 
                fetch(`https://api.open-meteo.com/v1/forecast?latitude=-25.4597&longitude=-49.5286&current=temperature_2m,weather_code,relative_humidity_2m,wind_speed_10m&timezone=auto`)
                    .then(r=>r.json()).then(d=>setWeather({ temp: d.current.temperature_2m, code: d.current.weather_code, humid: d.current.relative_humidity_2m, wind: d.current.wind_speed_10m })).catch(()=>null);
            }, []);

            const wStatus = weather && weather.code === 0 ? {t:"Limpo", i:"sun", c:"text-yellow-400"} : {t:"Nublado/Chuva", i:"cloud", c:"text-blue-300"};

            return (
                <div className="h-full flex flex-col fade-in">
                    <div className="glass p-5 sticky top-0 z-10 border-b border-slate-800 flex justify-between items-center">
                        <div>
                            <h1 className="text-xl font-bold text-white bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400">KMZ App</h1>
                            <p className="text-[10px] text-blue-300 font-bold uppercase tracking-wider">Enterprise Edition</p>
                        </div>
                        <div className="flex gap-3 items-center">
                            <button onClick={()=>setTab('profile')} className="relative"><div className="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold">{user ? user.displayName.charAt(0).toUpperCase() : <Icon name="user"/>}</div></button>
                            <button onClick={requestNotify} className="p-2 relative"><Icon name="bell" className={notifyPerm === 'granted' ? "text-emerald-400" : "text-slate-400"} />{todayCount > 0 && <span className="absolute top-0 right-0 bg-red-500 text-white text-[8px] font-bold w-4 h-4 flex items-center justify-center rounded-full animate-bounce">{todayCount}</span>}</button>
                        </div>
                    </div>
                    <div className="content p-4 space-y-4">
                        <SystemStatus user={user} />
                        <MiniWeek events={events} onGoToAgenda={() => setTab('agenda')} />
                        <div className="bg-gradient-to-br from-indigo-900 to-slate-900 border border-indigo-500/30 rounded-2xl p-5 text-white shadow-xl relative overflow-hidden">
                            <div className="absolute -right-4 -top-4 opacity-10"><Icon name={wStatus.i} size={100} className={wStatus.c}/></div>
                            <div className="relative z-10">
                                <h3 className="font-bold text-sm text-indigo-300 flex items-center gap-2 uppercase tracking-wider mb-1"><Icon name={wStatus.i} size={14} className={wStatus.c}/> {wStatus.t}</h3>
                                <div className="flex items-end gap-2"><span className="text-4xl font-bold">{weather ? Math.round(weather.temp) + "¬∞" : "--"}</span><span className="text-sm opacity-70 mb-1">Campo Largo</span></div>
                                {weather && <div className="text-xs opacity-70 mt-2">üíß {weather.humid}% | üí® {weather.wind} km/h</div>}
                            </div>
                        </div>
                        <div className="space-y-2"><h3 className="text-xs font-bold text-slate-500 uppercase ml-1">Links R√°pidos</h3><QuickLinks /></div>
                        <div className="grid grid-cols-1 gap-3"><Scratchpad /></div>
                    </div>
                </div>
            );
        };

        // Outros componentes simplificados para economizar espa√ßo
        const ShoppingList = () => <div className="p-4 text-center text-slate-500 mt-20">Aba de Compras em desenvolvimento...</div>;
        const Habits = () => <div className="p-4 text-center text-slate-500 mt-20">Aba de H√°bitos em desenvolvimento...</div>;
        const Kanban = () => <div className="p-4 text-center text-slate-500 mt-20">Aba de Projetos em desenvolvimento...</div>;
        const StudyTab = () => <div className="p-4 text-center text-slate-500 mt-20">Aba de Estudos em desenvolvimento...</div>;
        const DietTab = () => <div className="p-4 text-center text-slate-500 mt-20">Aba de Dieta em desenvolvimento...</div>;
        const WorkoutTab = () => <div className="p-4 text-center text-slate-500 mt-20">Aba de Treinos em desenvolvimento...</div>;
        const NewsFeed = () => <div className="p-4 text-center text-slate-500 mt-20">Feed de Not√≠cias desativado na vers√£o local.</div>;
        const Agenda = () => <div className="p-4 text-center text-slate-500 mt-20">Agenda em desenvolvimento...</div>;
        const Notes = () => <div className="p-4 text-center text-slate-500 mt-20">Cofre de Notas em desenvolvimento...</div>;

        const Utilities = ({ openCalc }) => {
            const [chkText, setChkText] = useState("");
            const [correctedText, setCorrectedText] = useState("");
            
            // CORRETOR V3 - Reescrevemos a fun√ß√£o para evitar o bug do espa√ßo e do "√©" duplicado com seguran√ßa total
            const checkSpelling = () => {
                if(!chkText) return;
                let res = chkText;
                res = res.replace(/\s+/g, ' '); // remove espa√ßos m√∫ltiplos
                
                const dictionary = { "nao": "n√£o", "naum": "n√£o", "n": "n√£o", "eh": "√©", "vc": "voc√™", "vcs": "voc√™s", "pq": "porque", "tbm": "tamb√©m", "tb": "tamb√©m", "hj": "hoje", "concerteza": "com certeza", "derrepente": "de repente", "menas": "menos", "seje": "seja", "mecher": "mexer", "nada haver": "nada a ver", "exess√£o": "exce√ß√£o", "excess√£o": "exce√ß√£o", "entao": "ent√£o", "sao": "s√£o", "irmao": "irm√£o", "coracao": "cora√ß√£o", "atencao": "aten√ß√£o", "situacao": "situa√ß√£o", "voce": "voc√™", "ate": "at√©", "sera": "ser√°", "ja": "j√°", "so": "s√≥", "ola": "ol√°", "facil": "f√°cil", "dificil": "dif√≠cil", "rapido": "r√°pido", "msg": "mensagem", "abs": "abra√ßos", "sdd": "saudade", "tlg": "t√° ligado", "vlw": "valeu", "p/": "para" };
                
                // Mapeia as palavras garantindo que as acentua√ß√µes n√£o interfiram no regex global
                let words = res.split(' ');
                words = words.map(w => {
                    let clean = w.replace(/[.,!?;:]/g, '').toLowerCase();
                    if(dictionary[clean]) return w.replace(new RegExp(clean, 'i'), dictionary[clean]);
                    return w;
                });
                res = words.join(' ');
                
                res = res.replace(/\s+([.,!?;:])/g, '$1'); // ajusta espa√ßos antes da pontua√ß√£o
                res = res.replace(/([.,!?;:])(?=[^\s])/g, '$1 '); // garante espa√ßo ap√≥s a pontua√ß√£o
                res = res.charAt(0).toUpperCase() + res.slice(1); // capitaliza o come√ßo
                
                setCorrectedText(res.trim());
            };

            return (
                <div className="h-full flex flex-col fade-in">
                    <div className="glass p-4 sticky top-0 z-10 border-b border-slate-800 flex justify-between items-center"><h2 className="text-xl font-bold text-white flex items-center gap-2"><Icon name="grid" size={20}/> Utilidades</h2></div>
                    <div className="content p-4 space-y-4">
                        <button onClick={openCalc} className="w-full bg-slate-800 border border-slate-700 p-4 rounded-xl flex items-center justify-center gap-2 active:scale-95 transition-transform"><Icon name="calc" size={28} className="text-blue-400"/><span className="text-sm font-bold">Calculadora</span></button>
                        <div className="bg-slate-800 border border-slate-700 p-4 rounded-xl">
                            <h4 className="text-[10px] text-slate-400 font-bold uppercase mb-3 flex items-center gap-1"><Icon name="checktext" size={14} className="text-emerald-400"/> Corretor + Pontua√ß√£o KMZ (Bug Resolvido)</h4>
                            <textarea value={chkText} onChange={e=>setChkText(e.target.value)} placeholder="Cole seu texto aqui..." className="w-full bg-slate-900 p-3 rounded text-sm mb-2 text-white outline-none h-24 resize-none border border-slate-700 focus:border-emerald-500 transition-colors"/>
                            <button onClick={checkSpelling} className="w-full bg-emerald-700 hover:bg-emerald-600 text-white py-2 rounded text-xs font-bold mb-3 shadow-lg">Corrigir e Formatar</button>
                            {correctedText && (<div className="bg-slate-900/80 p-3 rounded border border-emerald-900/50"><p className="text-[10px] text-slate-500 uppercase mb-1 font-bold">Resultado:</p><p className="text-sm text-emerald-100 font-medium break-words select-all" onClick={()=>{navigator.clipboard.writeText(correctedText)}}>{correctedText}</p></div>)}
                        </div>
                    </div>
                </div>
            );
        };

        // --- SISTEMA DE LOGIN LOCAL (SEM FIREBASE) E CR√âDITOS ---
        const ProfileTab = ({ user, setUser, theme, setTheme }) => {
            const [usernameInput, setUsernameInput] = useState('');
            
            const handleLogin = (e) => {
                e.preventDefault();
                if(!usernameInput.trim()) return;
                setUser({ uid: Date.now().toString(), displayName: usernameInput, email: usernameInput.toLowerCase().replace(/\s/g, '') + '@kmz.local' });
            };

            const themes = [
                { id: 'cyber', name: 'Cyber (Padr√£o)', color: 'bg-blue-600' },
                { id: 'forest', name: 'Floresta', color: 'bg-emerald-600' },
                { id: 'dracula', name: 'Dr√°cula', color: 'bg-purple-600' }
            ];

            return (
                <div className="h-full flex flex-col fade-in">
                    <div className="glass p-4 sticky top-0 z-10 border-b border-slate-800"><h2 className="text-xl font-bold text-white flex items-center gap-2"><Icon name="user" size={20}/> Perfil da KMZ</h2></div>
                    <div className="content p-6 flex flex-col items-center">
                        <div className="bg-slate-800 border border-slate-700 p-6 rounded-2xl w-full max-w-sm flex flex-col items-center shadow-2xl mb-6">
                            {user ? (
                                <>
                                    <div className="w-24 h-24 rounded-full bg-blue-600 flex items-center justify-center text-4xl font-bold mb-4 shadow-lg text-white border-4 border-slate-700">{user.displayName.charAt(0).toUpperCase()}</div>
                                    <h3 className="text-xl font-bold text-white">{user.displayName}</h3>
                                    <p className="text-slate-400 text-sm mb-6">{user.email}</p>
                                    <button onClick={() => setUser(null)} className="w-full bg-red-900/30 text-red-400 py-3 rounded-xl font-bold hover:bg-red-900/50 transition-colors">SAIR DA CONTA</button>
                                </>
                            ) : (
                                <form onSubmit={handleLogin} className="w-full flex flex-col items-center">
                                    <div className="w-20 h-20 rounded-full bg-slate-900 flex items-center justify-center mb-4 border border-slate-700"><Icon name="lock" size={32} className="text-slate-600"/></div>
                                    <h3 className="text-lg font-bold text-slate-300 mb-2">Acesso Local</h3>
                                    <p className="text-slate-500 text-xs text-center mb-4">Seus dados agora s√£o salvos localmente e sem depend√™ncias externas.</p>
                                    <input value={usernameInput} onChange={e=>setUsernameInput(e.target.value)} placeholder="Seu Nome" className="w-full bg-slate-900 border border-slate-700 p-3 rounded-xl text-white mb-3 outline-none text-center" />
                                    <button type="submit" className="w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 hover:bg-blue-500 transition-colors">Entrar</button>
                                </form>
                            )}
                        </div>

                        <div className="w-full max-w-sm">
                            <h4 className="text-slate-400 font-bold text-xs uppercase mb-3 flex items-center gap-2"><Icon name="palette" size={14}/> Tema do App</h4>
                            <div className="grid grid-cols-3 gap-2">
                                {themes.map(t => (
                                    <button key={t.id} onClick={() => setTheme(t.id)} className={`p-2 rounded-xl border flex flex-col items-center gap-2 transition-all ${theme === t.id ? 'bg-slate-700 border-white text-white' : 'bg-slate-800 border-slate-700 text-slate-400'}`}>
                                        <div className={`w-4 h-4 rounded-full ${t.color}`}></div><span className="text-[10px] font-bold text-center">{t.name}</span>
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Atualiza√ß√£o de Cr√©ditos e KMZ Enterprise */}
                        <div className="mt-8 text-center bg-slate-900/50 p-4 rounded-xl border border-slate-800 w-full max-w-sm">
                             <h4 className="text-slate-500 font-bold text-xs uppercase mb-2">Informa√ß√µes</h4>
                             <p className="text-slate-300 text-sm font-bold">Empresa: KMZ</p>
                             <p className="text-slate-400 text-xs mt-1">Cr√©ditos: Kau√£ Mazur dos Reis</p>
                             <p className="text-blue-400 text-[10px] mt-2 select-all">Email para Suporte:<br/>kmzsuportt1@gmail.com</p>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [tab, setTab] = useState('home');
            const [mod, setMod] = useState({open:false});
            const [agendaEvts, setAgendaEvts] = useStorage('agenda_v24', {});
            const [theme, setTheme] = useStorage('app_theme_v70', 'cyber'); 
            const [notifyPerm, requestNotify] = useNotifications(agendaEvts);
            
            // Estado de Usu√°rio Local Substituto do Firebase
            const [user, setUser] = useStorage('kmz_local_user', null);

            // Controle da Splash Screen do Cordova e da Anima√ß√£o KMZ
            useEffect(() => {
                document.addEventListener('deviceready', () => {
                    if(navigator.splashscreen) navigator.splashscreen.hide(); // Remove splash padr√£o do Cordova
                }, false);

                // Remove a splash HTML/CSS da KMZ ap√≥s 2.5 segundos
                setTimeout(() => {
                    const splash = document.getElementById('kmz-splash');
                    if(splash) {
                        splash.style.opacity = '0';
                        setTimeout(() => splash.remove(), 500);
                    }
                }, 2500);
            }, []);

            return (
                <div className="h-full w-full flex flex-col font-sans text-slate-100 bg-slate-950">
                    <style>{themeStyles[theme]}</style> 
                    <Modal cfg={mod} close={()=>setMod({...mod, open:false})} />
                    
                    <main className="flex-1 overflow-hidden relative w-full h-full">
                        {tab==='home' && <Dashboard openCalc={()=>setMod({open:true, isCalc:true})} events={agendaEvts} setTab={setTab} requestNotify={requestNotify} notifyPerm={notifyPerm} user={user} />}
                        {tab==='news' && <NewsFeed />}
                        {tab==='utils' && <Utilities openCalc={()=>setMod({open:true, isCalc:true})} />}
                        {tab==='shop' && <ShoppingList />}
                        {tab==='habits' && <Habits />}
                        {tab==='agenda' && <Agenda />}
                        {tab==='kanban' && <Kanban />}
                        {tab==='notes' && <Notes />}
                        {tab==='study' && <StudyTab />}
                        {tab==='workout' && <WorkoutTab />}
                        {tab==='diet' && <DietTab />}
                        {tab==='profile' && <ProfileTab user={user} setUser={setUser} theme={theme} setTheme={setTheme} />}
                    </main>

                    <nav className="fixed bottom-0 w-full bg-slate-900/95 border-t border-slate-800 pb-8 pt-3 px-2 z-40 h-[90px] backdrop-blur-md overflow-x-auto no-scrollbar flex items-center gap-2">
                        {[
                            {id:'home', l:'In√≠cio', i:'home'},
                            {id:'utils', l:'Util', i:'grid'},
                            {id:'profile', l:'Perfil', i:'user'}
                        ].map(b => (
                            <button key={b.id} onClick={()=>setTab(b.id)} className={`flex flex-col items-center justify-center gap-1 min-w-[64px] h-full transition-all active:scale-95 flex-1 ${tab===b.id?'text-blue-400':'text-slate-500 hover:text-slate-300'}`}>
                                <Icon name={b.i} size={22} className={tab===b.id ? "drop-shadow-[0_0_8px_rgba(96,165,250,0.5)]" : ""} />
                                <span className="text-[9px] font-bold uppercase tracking-wide">{b.l}</span>
                            </button>
                        ))}
                    </nav>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
